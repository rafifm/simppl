{"version":3,"sources":["./src/app/layouts/akun/profil/profil.component.html","./src/app/layouts/akun/register/register.component.html","./src/app/layouts/akun/profil/profil.component.ts","./src/app/layouts/akun/register/register.component.ts","./src/app/layouts/akun/login/login.component.html","./src/app/layouts/akun/akun-routing.module.ts","./src/app/layouts/akun/login/login.component.css","./src/app/layouts/akun/register/register.component.css","./src/app/layouts/akun/login/login.component.ts","./src/app/layouts/akun/_services/auth.service.ts","./src/app/layouts/akun/akun.module.ts","./src/app/layouts/akun/profil/profil.component.css"],"names":[],"mappings":"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","file":"layouts-akun-akun-module-es2015.js","sourcesContent":["export default \"<div class=\\\"container\\\" *ngIf=\\\"currentUser; else loggedOut\\\">\\n  <header class=\\\"jumbotron\\\">\\n    <h3>\\n      <strong>{{ currentUser.username }}</strong> Profile\\n    </h3>\\n  </header>\\n  <p>\\n    <strong>Token:</strong>\\n    {{ currentUser.accessToken.substring(0, 20) }} ...\\n    {{ currentUser.accessToken.substr(currentUser.accessToken.length - 20) }}\\n  </p>\\n  <p>\\n    <strong>Email:</strong>\\n    {{ currentUser.email }}\\n  </p>\\n  <strong>Roles:</strong>\\n  <ul>\\n    <li *ngFor=\\\"let role of currentUser.roles\\\">\\n      {{ role }}\\n    </li>\\n  </ul>\\n</div>\\n\\n<ng-template #loggedOut>\\n  Please login.\\n</ng-template>\";","export default \"\\n    <div>\\n        <img src=\\\"assets/logoulm.png\\\">\\n        <form [formGroup]=\\\"formRegister\\\" (submit)=\\\"onSubmit()\\\">\\n            <mat-form-field>\\n                <input\\n                matInput\\n                type=\\\"text\\\"\\n                formControlName=\\\"email_pengguna\\\"\\n                placeholder=\\\"Email\\\">\\n            </mat-form-field>\\n            <mat-form-field>\\n                <input\\n                matInput\\n                type=\\\"text\\\"\\n                formControlName=\\\"password_pengguna\\\"\\n                placeholder=\\\"Password\\\">\\n            </mat-form-field>\\n            <button mat-raised-button color=\\\"accent\\\" type=\\\"submit\\\" >Sign In</button>\\n        </form>        \\n      </div>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { TokenStorageService } from '../_services/token-storage.service';\n\n@Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.css']\n})\nexport class ProfilComponent implements OnInit {\n\n  currentUser: any;\n\n  constructor(private token: TokenStorageService) { }\n\n  ngOnInit(): void {\n    this.currentUser = this.token.getPengguna();\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../_services/auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  formRegister: FormGroup;\n  isSuccessful = false;\n  isSignUpFailed = false;\n  errorMessage = '';\n\n  constructor(private authService: AuthService) { }\n\n  ngOnInit(): void {\n    this.formRegister = new FormGroup({\n      email_pengguna: new FormControl(null, { validators: [Validators.required, Validators.email]}),\n      password_pengguna: new FormControl(null, {validators: [Validators.required]})\n    });\n  }\n\n  onSubmit(): void {\n    if(this.formRegister.invalid){\n      return;\n    }\n    this.authService.register({\n      email: this.formRegister.value.email_pengguna,\n      password: this.formRegister.value.password_pengguna\n    }).subscribe(data=> {\n      console.log(data);\n      this.isSuccessful = true;\n      this.isSignUpFailed = false;\n    }, err => {\n      this.errorMessage = err.error.message;\n      this.isSignUpFailed = true;\n    })\n  }\n\n}\n","export default \"<div>\\n  <img src=\\\"assets/logoulm.png\\\">\\n  <form [formGroup]=\\\"formLogin\\\" (submit)=\\\"onSubmit()\\\">  \\n      <mat-form-field>\\n          <input\\n          matInput\\n          type=\\\"text\\\"\\n          formControlName=\\\"email_pengguna\\\"\\n          placeholder=\\\"Email\\\">\\n      </mat-form-field>\\n      <mat-form-field>\\n          <input\\n          matInput\\n          type=\\\"password\\\"\\n          formControlName=\\\"password_pengguna\\\"\\n          placeholder=\\\"Password\\\">\\n      </mat-form-field>\\n      <button mat-raised-button color=\\\"accent\\\" type=\\\"submit\\\" >Log In</button>\\n  </form>\\n</div>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component:LoginComponent,\r\n  }, {\r\n    path: 'signup',\r\n    component:RegisterComponent\r\n  }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AkunRoutingModule { }\r\n","export default \"mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nmat-card{\\r\\n  display: inline-block;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\nmat-card img{\\r\\n  display: block;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5tYXQtY2FyZHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxubWF0LWNhcmQgaW1ne1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXX0= */\";","export default \"mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nmat-card{\\r\\n  display: inline-block;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\nmat-card img{\\r\\n  display: block;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5tYXQtY2FyZHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxubWF0LWNhcmQgaW1ne1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../_services/auth.service';\nimport { TokenStorageService } from '../_services/token-storage.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  formLogin: FormGroup;\n  isLoggedIn = false;\n  isLoggedInFailed = false;\n  roles: string[] = [];\n  private idPengguna;\n  private idLogin;\n  errorMessage= '';\n\n  constructor(\n    private authService: AuthService,\n    private tokenStorage: TokenStorageService,\n    private router: Router\n    ) { }\n\n  ngOnInit(): void {\n    this.formLogin = new FormGroup({\n      email_pengguna: new FormControl(null, { validators: [Validators.required, Validators.email]}),\n      password_pengguna: new FormControl(null, {validators: [Validators.required]})\n    });\n    if(this.tokenStorage.getToken()) {\n      this.isLoggedIn = true;\n      this.roles = this.tokenStorage.getPengguna().peran;\n    }\n  }\n\n  onSubmit(): void{\n    this.authService.login({\n      email: this.formLogin.value.email_pengguna,\n      password: this.formLogin.value.password_pengguna\n    }).subscribe(data => {\n      this.tokenStorage.saveToken(data.accessToken);\n      this.tokenStorage.savePengguna(data);\n      this.isLoggedIn = true;\n      this.isLoggedInFailed = false;\n      this.roles = this.tokenStorage.getPengguna().peran;\n      this.idLogin = this.tokenStorage.getPengguna().id;\n      this.idPengguna = this.tokenStorage.getPengguna().idPengguna;\n      this.getPeran();\n    }, err => {\n      console.log(err);\n      this.isLoggedInFailed = true;\n    });\n  }\n\n  reloadPage(): void{\n    window.location.reload();\n  }\n\n  getPeran() {\n    if(this.roles.includes('PERAN_DOSEN')) {\n      if(this.idPengguna == 'kosong'){\n        this.router.navigate(['/dashboard/staff/tambahdosen', this.idLogin]);\n      } else {\n        this.router.navigate(['/dashboard/dosen/tampilnilai'],{queryParams: {nama:this.tokenStorage.getPengguna().nama,email: this.tokenStorage.getPengguna().email_pengguna}});\n      }\n    } else if(this.roles.includes('PERAN_GURU')){\n      this.router.navigate(['/dashboard/staff/tambahguru']);\n    } else if(this.roles.includes('PERAN_MAHASISWA')){\n      this.router.navigate(['/dashboard/mhs/tambahmhs'],{queryParams: {nama:'',email: this.tokenStorage.getPengguna().email_pengguna}});\n    } else if(this.roles.includes('PERAN_STAFF')){\n      this.router.navigate(['/dashboard/staff/tambahstaff']);\n    } else if(this.roles.includes('PERAN_ADMIN')){\n      this.router.navigate(['/admin/kelolaperan'], {queryParams: {nama:'admin',email: this.tokenStorage.getPengguna().email_pengguna}});\n    } else if(this.roles.includes('PERAN_KAPRODI')){\n      this.router.navigate(['/dashboard/kaprodi'], {queryParams: {nama:'kaprodi',email: this.tokenStorage.getPengguna().email_pengguna}});\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nconst AUTH_API = 'http://localhost:4000/api/auth/';\nconst httpOptions = {headers: new HttpHeaders({ 'Content-Type': 'application/json'})};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(private http: HttpClient) { }\n\n  login(rahasia): Observable<any> {\n    return this.http.post(AUTH_API + 'signin', {\n      email_pengguna: rahasia.email,\n      password_pengguna: rahasia.password\n    }, httpOptions);\n  }\n\n  register(pengguna): Observable<any> {\n    return this.http.post(AUTH_API + 'signup', {\n      email_pengguna: pengguna.email,\n      password_pengguna: pengguna.password\n    }, httpOptions);\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ProfilComponent } from './profil/profil.component';\r\nimport { AkunRoutingModule } from './akun-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent, \r\n    RegisterComponent, \r\n    ProfilComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AkunRoutingModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatCardModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class AkunModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWwuY29tcG9uZW50LmNzcyJ9 */\";"],"sourceRoot":"webpack:///"}