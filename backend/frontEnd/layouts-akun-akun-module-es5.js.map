{"version":3,"sources":["webpack:///src/app/layouts/akun/profil/profil.component.html","webpack:///src/app/layouts/akun/register/register.component.html","webpack:///src/app/layouts/akun/profil/profil.component.ts","webpack:///src/app/layouts/akun/register/register.component.ts","webpack:///src/app/layouts/akun/login/login.component.html","webpack:///src/app/layouts/akun/akun-routing.module.ts","webpack:///src/app/layouts/akun/login/login.component.css","webpack:///src/app/layouts/akun/register/register.component.css","webpack:///src/app/layouts/akun/login/login.component.ts","webpack:///src/app/layouts/akun/_services/auth.service.ts","webpack:///src/app/layouts/akun/akun.module.ts","webpack:///src/app/layouts/akun/profil/profil.component.css"],"names":["ProfilComponent","token","currentUser","getPengguna","selector","template","RegisterComponent","authService","isSuccessful","isSignUpFailed","errorMessage","formRegister","email_pengguna","validators","required","email","password_pengguna","invalid","register","value","password","subscribe","data","console","log","err","error","message","routes","path","component","AkunRoutingModule","imports","forChild","exports","LoginComponent","tokenStorage","router","isLoggedIn","isLoggedInFailed","roles","formLogin","getToken","peran","login","saveToken","accessToken","savePengguna","idLogin","id","idPengguna","getPeran","window","location","reload","includes","navigate","queryParams","nama","AUTH_API","httpOptions","headers","AuthService","http","rahasia","post","pengguna","providedIn","AkunModule","declarations"],"mappings":"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","file":"layouts-akun-akun-module-es5.js","sourcesContent":["export default \"<div class=\\\"container\\\" *ngIf=\\\"currentUser; else loggedOut\\\">\\n  <header class=\\\"jumbotron\\\">\\n    <h3>\\n      <strong>{{ currentUser.username }}</strong> Profile\\n    </h3>\\n  </header>\\n  <p>\\n    <strong>Token:</strong>\\n    {{ currentUser.accessToken.substring(0, 20) }} ...\\n    {{ currentUser.accessToken.substr(currentUser.accessToken.length - 20) }}\\n  </p>\\n  <p>\\n    <strong>Email:</strong>\\n    {{ currentUser.email }}\\n  </p>\\n  <strong>Roles:</strong>\\n  <ul>\\n    <li *ngFor=\\\"let role of currentUser.roles\\\">\\n      {{ role }}\\n    </li>\\n  </ul>\\n</div>\\n\\n<ng-template #loggedOut>\\n  Please login.\\n</ng-template>\";","export default \"\\n    <div>\\n        <img src=\\\"assets/logoulm.png\\\">\\n        <form [formGroup]=\\\"formRegister\\\" (submit)=\\\"onSubmit()\\\">\\n            <mat-form-field>\\n                <input\\n                matInput\\n                type=\\\"text\\\"\\n                formControlName=\\\"email_pengguna\\\"\\n                placeholder=\\\"Email\\\">\\n            </mat-form-field>\\n            <mat-form-field>\\n                <input\\n                matInput\\n                type=\\\"text\\\"\\n                formControlName=\\\"password_pengguna\\\"\\n                placeholder=\\\"Password\\\">\\n            </mat-form-field>\\n            <button mat-raised-button color=\\\"accent\\\" type=\\\"submit\\\" >Sign In</button>\\n        </form>        \\n      </div>\\n\";","import { Component, OnInit } from '@angular/core';\nimport { TokenStorageService } from '../_services/token-storage.service';\n\n@Component({\n  selector: 'app-profil',\n  templateUrl: './profil.component.html',\n  styleUrls: ['./profil.component.css']\n})\nexport class ProfilComponent implements OnInit {\n\n  currentUser: any;\n\n  constructor(private token: TokenStorageService) { }\n\n  ngOnInit(): void {\n    this.currentUser = this.token.getPengguna();\n  }\n\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { AuthService } from '../_services/auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n\n  formRegister: FormGroup;\n  isSuccessful = false;\n  isSignUpFailed = false;\n  errorMessage = '';\n\n  constructor(private authService: AuthService) { }\n\n  ngOnInit(): void {\n    this.formRegister = new FormGroup({\n      email_pengguna: new FormControl(null, { validators: [Validators.required, Validators.email]}),\n      password_pengguna: new FormControl(null, {validators: [Validators.required]})\n    });\n  }\n\n  onSubmit(): void {\n    if(this.formRegister.invalid){\n      return;\n    }\n    this.authService.register({\n      email: this.formRegister.value.email_pengguna,\n      password: this.formRegister.value.password_pengguna\n    }).subscribe(data=> {\n      console.log(data);\n      this.isSuccessful = true;\n      this.isSignUpFailed = false;\n    }, err => {\n      this.errorMessage = err.error.message;\n      this.isSignUpFailed = true;\n    })\n  }\n\n}\n","export default \"<div>\\n  <img src=\\\"assets/logoulm.png\\\">\\n  <form [formGroup]=\\\"formLogin\\\" (submit)=\\\"onSubmit()\\\">  \\n      <mat-form-field>\\n          <input\\n          matInput\\n          type=\\\"text\\\"\\n          formControlName=\\\"email_pengguna\\\"\\n          placeholder=\\\"Email\\\">\\n      </mat-form-field>\\n      <mat-form-field>\\n          <input\\n          matInput\\n          type=\\\"password\\\"\\n          formControlName=\\\"password_pengguna\\\"\\n          placeholder=\\\"Password\\\">\\n      </mat-form-field>\\n      <button mat-raised-button color=\\\"accent\\\" type=\\\"submit\\\" >Log In</button>\\n  </form>\\n</div>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'login',\r\n    component:LoginComponent,\r\n  }, {\r\n    path: 'signup',\r\n    component:RegisterComponent\r\n  }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AkunRoutingModule { }\r\n","export default \"mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nmat-card{\\r\\n  display: inline-block;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\nmat-card img{\\r\\n  display: block;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5tYXQtY2FyZHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxubWF0LWNhcmQgaW1ne1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXX0= */\";","export default \"mat-form-field {\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nmat-card{\\r\\n  display: inline-block;\\r\\n  justify-content: center;\\r\\n  align-items: center;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\nmat-card img{\\r\\n  display: block;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n:host {\\r\\n  width: 100%;\\r\\n  display: flex;\\r\\n  justify-content: center;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZ2lzdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0FBQ2hCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsYUFBYTtFQUNiLHVCQUF1QjtBQUN6QiIsImZpbGUiOiJyZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsibWF0LWZvcm0tZmllbGQge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59XHJcblxyXG5tYXQtY2FyZHtcclxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBtYXJnaW46IDAgYXV0bztcclxufVxyXG5cclxubWF0LWNhcmQgaW1ne1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gIG1hcmdpbi1yaWdodDogYXV0bztcclxufVxyXG5cclxuOmhvc3Qge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../_services/auth.service';\nimport { TokenStorageService } from '../_services/token-storage.service';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent implements OnInit {\n\n  formLogin: FormGroup;\n  isLoggedIn = false;\n  isLoggedInFailed = false;\n  roles: string[] = [];\n  private idPengguna;\n  private idLogin;\n  errorMessage= '';\n\n  constructor(\n    private authService: AuthService,\n    private tokenStorage: TokenStorageService,\n    private router: Router\n    ) { }\n\n  ngOnInit(): void {\n    this.formLogin = new FormGroup({\n      email_pengguna: new FormControl(null, { validators: [Validators.required, Validators.email]}),\n      password_pengguna: new FormControl(null, {validators: [Validators.required]})\n    });\n    if(this.tokenStorage.getToken()) {\n      this.isLoggedIn = true;\n      this.roles = this.tokenStorage.getPengguna().peran;\n    }\n  }\n\n  onSubmit(): void{\n    this.authService.login({\n      email: this.formLogin.value.email_pengguna,\n      password: this.formLogin.value.password_pengguna\n    }).subscribe(data => {\n      this.tokenStorage.saveToken(data.accessToken);\n      this.tokenStorage.savePengguna(data);\n      this.isLoggedIn = true;\n      this.isLoggedInFailed = false;\n      this.roles = this.tokenStorage.getPengguna().peran;\n      this.idLogin = this.tokenStorage.getPengguna().id;\n      this.idPengguna = this.tokenStorage.getPengguna().idPengguna;\n      this.getPeran();\n    }, err => {\n      console.log(err);\n      this.isLoggedInFailed = true;\n    });\n  }\n\n  reloadPage(): void{\n    window.location.reload();\n  }\n\n  getPeran() {\n    if(this.roles.includes('PERAN_DOSEN')) {\n      if(this.idPengguna == 'kosong'){\n        this.router.navigate(['/dashboard/staff/tambahdosen', this.idLogin]);\n      } else {\n        this.router.navigate(['/dashboard/dosen/tampilnilai'],{queryParams: {nama:this.tokenStorage.getPengguna().nama,email: this.tokenStorage.getPengguna().email_pengguna}});\n      }\n    } else if(this.roles.includes('PERAN_GURU')){\n      this.router.navigate(['/dashboard/staff/tambahguru']);\n    } else if(this.roles.includes('PERAN_MAHASISWA')){\n      this.router.navigate(['/dashboard/mhs/tambahmhs'],{queryParams: {nama:'',email: this.tokenStorage.getPengguna().email_pengguna}});\n    } else if(this.roles.includes('PERAN_STAFF')){\n      this.router.navigate(['/dashboard/staff/tambahstaff']);\n    } else if(this.roles.includes('PERAN_ADMIN')){\n      this.router.navigate(['/admin/kelolaperan'], {queryParams: {nama:'admin',email: this.tokenStorage.getPengguna().email_pengguna}});\n    } else if(this.roles.includes('PERAN_KAPRODI')){\n      this.router.navigate(['/dashboard/kaprodi'], {queryParams: {nama:'kaprodi',email: this.tokenStorage.getPengguna().email_pengguna}});\n    }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  }\n\n}\n","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nconst AUTH_API = 'http://localhost:4000/api/auth/';\nconst httpOptions = {headers: new HttpHeaders({ 'Content-Type': 'application/json'})};\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  constructor(private http: HttpClient) { }\n\n  login(rahasia): Observable<any> {\n    return this.http.post(AUTH_API + 'signin', {\n      email_pengguna: rahasia.email,\n      password_pengguna: rahasia.password\n    }, httpOptions);\n  }\n\n  register(pengguna): Observable<any> {\n    return this.http.post(AUTH_API + 'signup', {\n      email_pengguna: pengguna.email,\n      password_pengguna: pengguna.password\n    }, httpOptions);\n  }\n\n}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LoginComponent } from './login/login.component';\r\nimport { RegisterComponent } from './register/register.component';\r\nimport { ProfilComponent } from './profil/profil.component';\r\nimport { AkunRoutingModule } from './akun-routing.module';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { MatCardModule } from '@angular/material/card';\r\nimport {MatInputModule} from '@angular/material/input';\r\nimport { MatButtonModule } from '@angular/material/button';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent, \r\n    RegisterComponent, \r\n    ProfilComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    AkunRoutingModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatCardModule,\r\n    MatFormFieldModule,\r\n    MatInputModule,\r\n    MatButtonModule\r\n  ]\r\n})\r\nexport class AkunModule { }\r\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9maWwuY29tcG9uZW50LmNzcyJ9 */\";"]}